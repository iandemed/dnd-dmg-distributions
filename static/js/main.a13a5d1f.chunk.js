(this["webpackJsonpdnd-dmg-distributions"]=this["webpackJsonpdnd-dmg-distributions"]||[]).push([[0],{100:function(e,t,a){},102:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(28),i=a.n(s),r=a(2),o=(a(100),a(5)),u=(a(102),a(0)),d=Object(n.createContext)(),l=function(e){var t=e.dimensions,a=e.children;return Object(u.jsx)(d.Provider,{value:t,children:Object(u.jsx)("svg",{className:"Chart",width:t.width,height:t.height,children:Object(u.jsx)("g",{transform:"translate(".concat(t.marginLeft,", ").concat(t.marginTop,")"),children:a})})})},b=a(3),j=a(10),h=a(29),m=function(e,t,a){return"function"===typeof e?e(t,a):e},f=function(e){var t=Object(b.a)({marginTop:40,marginRight:0,marginBottom:40,marginLeft:75},e);return Object(b.a)(Object(b.a)({},t),{},{boundedHeight:Math.max(t.height-t.marginTop-t.marginBottom,0),boundedWidth:Math.max(t.width-t.marginLeft-t.marginRight,0)})},O=function(e){var t=e.data,a=e.keyAccessor,s=e.xAccessor,i=e.yAccessor,r=e.widthAccessor,d=e.heightAccessor,l=Object(j.a)(e,["data","keyAccessor","xAccessor","yAccessor","widthAccessor","heightAccessor"]);return Object(u.jsx)(c.a.Fragment,{children:t.map((function(e,t){return Object(n.createElement)("rect",Object(b.a)(Object(b.a)({},l),{},{className:"Bars__rect",key:a(e,t),x:m(s,e,t),y:m(i,e,t),width:o.d([m(r,e,t),0]),height:o.d([m(d,e,t),0])}))}))})},g={x:function(e){var t=e.dimensions,a=e.label,n=e.formatTick,c=e.scale,s=Object(j.a)(e,["dimensions","label","formatTick","scale"]),i=t.boundedWidth<600?t.boundedWidth/75:t.boundedWidth/125,r=c.ticks(i);return Object(u.jsxs)("g",Object(b.a)(Object(b.a)({className:"Axis AxisHorizontal",transform:"translate(0, ".concat(t.boundedHeight,")")},s),{},{children:[Object(u.jsx)("line",{className:"Axis__line",x2:t.boundedWidth}),r.map((function(e,t){return Object(u.jsx)("text",{className:"Axis__tick",transform:"translate(".concat(c(e),", 25)"),children:n(e)},e)})),a&&Object(u.jsx)("text",{className:"Axis__label",transform:"translate(".concat(t.boundedWidth/2,", 60)"),children:a})]}))},y:function(e){var t=e.dimensions,a=e.label,n=e.formatTick,c=e.scale,s=Object(j.a)(e,["dimensions","label","formatTick","scale"]),i=t.boundedHeight/70,r=c.ticks(i);return Object(u.jsxs)("g",Object(b.a)(Object(b.a)({className:"Axis AxisVertical"},s),{},{children:[Object(u.jsx)("line",{className:"Axis__line",y2:t.boundedHeight}),r.map((function(e,t){return Object(u.jsx)("text",{className:"Axis__tick",transform:"translate(-34, ".concat(c(e),")"),children:n(e)},e)})),a&&Object(u.jsx)("text",{className:"Axis__label",style:{transform:"translate(-56px, ".concat(t.boundedHeight/2,"px) rotate(-90deg)")},children:a})]}))}},x=function(e){var t=e.dimension,a=Object(j.a)(e,["dimension"]),c=Object(n.useContext)(d),s=g[t];return s?Object(u.jsx)(s,Object(b.a)({dimensions:c},a)):null};x.defaultProps={dimension:"x",scale:null,formatTick:o.b(",")};var v=x;var p=function(e){var t=e.data,a=e.xAccessor,c=e.label,s=function(e){var t=Object(n.useRef)(),a=f(e),c=Object(n.useState)(0),s=Object(r.a)(c,2),i=s[0],o=s[1],u=Object(n.useState)(0),d=Object(r.a)(u,2),l=d[0],j=d[1];Object(n.useEffect)((function(){if(a.width&&a.height)return[t,a];var e=t.current,n=new h.a((function(e){if(Array.isArray(e)&&e.length){var t=e[0];i!==t.contentRect.width&&o(t.contentRect.width),l!==t.contentRect.height&&j(t.contentRect.height)}}));return n.observe(e),function(){return n.unobserve(e)}}),[e,l,i,a]);var m=f(Object(b.a)(Object(b.a)({},a),{},{width:a.width||i,height:a.height||l}));return[t,m]}({marginBottom:77,marginRight:10}),i=Object(r.a)(s,2),d=i[0],j=i[1],m=o.e().domain(o.a(t,a)).range([0,j.boundedWidth]).nice(12),g=o.c().domain(m.domain()).value(a).thresholds(m.ticks(12))(t),x=function(e){return e.length},p=o.e().domain([0,o.d(g,x)]).range([j.boundedHeight,0]).nice();return Object(u.jsx)("div",{className:"DmgDist",ref:d,children:Object(u.jsxs)(l,{dimensions:j,children:[Object(u.jsx)(v,{dimensions:j,dimension:"x",scale:m,label:c}),Object(u.jsx)(v,{dimensions:j,dimension:"y",scale:p,label:"Count"}),Object(u.jsx)(O,{data:g,keyAccessor:function(e,t){return t},xAccessor:function(e){return m(e.x0)+2},yAccessor:function(e){return p(x(e))},widthAccessor:function(e){return m(e.x1)-m(e.x0)-2},heightAccessor:function(e){return j.boundedHeight-p(x(e))}})]})})};p.defaultProps={xAccessor:function(e){return e.x},yAccessor:function(e){return e.y}};var A=p,_=(a(105),function(e){var t=e.label,a=e.stateVar,c=e.setStateVar,s=e.visual_max,i=void 0===s?35:s,o=e.min_value,d=void 0===o?1:o,l=Object(n.useState)(0),b=Object(r.a)(l,2),j=b[0],h=b[1],m=Object(n.useState)(!1),f=Object(r.a)(m,2),O=f[0],g=f[1],x=Object(n.useRef)(null),v=Object(n.useRef)(null);Object(n.useEffect)((function(){O?x.current.addEventListener("mousemove",p):x.current.removeEventListener("mousemove",p)}),[O]);var p=Object(n.useCallback)((function(e){A(e)}),[j]),A=function(e){var t=(e.clientX-j)/10,n=a+Math.round(t);n>=d&&c(n),e.stopPropagation(),e.preventDefault()},_={height:"100%",backgroundColor:"#6B6B6B",width:"".concat(Math.min(a/i*100,100),"%"),position:"absolute",zIndex:-1,top:0,left:0};return Object(u.jsxs)("div",{className:"input-container",onMouseDown:function(e){e.target!==v.current&&(h(e.clientX),g(!0),e.stopPropagation(),e.preventDefault())},onMouseUp:function(e){(e.target!==v.current||O)&&(g(!1),e.stopPropagation(),e.preventDefault())},onMouseLeave:function(e){g(!1),e.stopPropagation(),e.preventDefault()},ref:x,children:[Object(u.jsxs)("label",{className:"input-label",children:["".concat(t,":"),Object(u.jsx)("input",{className:"input",type:"number",min:d,step:"1",value:a,onChange:function(e){c(parseInt(e.target.value))},ref:v})]}),Object(u.jsx)("div",{style:_}),Object(u.jsx)("div",{className:"input-background"})]})}),N=(a(106),function(e){var t=e.label,a=e.stateVar,n=e.setStateVar;return Object(u.jsx)("div",{className:"switch-wrapper",children:Object(u.jsxs)("label",{className:"switch",tabIndex:"0",onKeyDown:function(e){if("Enter"===e.key){var t=e.target.firstElementChild;n(!t.checked)}},children:[t,Object(u.jsx)("input",{className:"toggle-input",type:"checkbox",checked:a,onChange:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;n(a)}}),Object(u.jsx)("span",{className:"slider"}),Object(u.jsx)("span",{className:"span-label",children:t})]})})}),k=(a(107),function(e){var t=e.ac,a=e.setAC,n=e.advantage,c=e.setAdvantage,s=e.disadvantage,i=e.setDisadvantage,r=e.dice_sides,o=e.setDiceSides,d=e.dice_num,l=e.setDiceNum,b=e.hit_modifier,j=e.setHitModifier,h=e.damage_modifier,m=e.setDamageModifier;return Object(u.jsxs)("div",{className:"OptionsPanel",children:[Object(u.jsx)(_,{label:"Armor Class",stateVar:t,setStateVar:a}),Object(u.jsx)("h4",{children:"Dice:"}),Object(u.jsx)(_,{label:"Sides",stateVar:r,setStateVar:o,visual_max:20}),Object(u.jsx)(_,{label:"Number",stateVar:d,setStateVar:l,visual_max:10}),Object(u.jsx)("h4",{children:"Modifiers:"}),Object(u.jsx)(_,{label:"Hit",stateVar:b,setStateVar:j,visual_max:10,min_value:-10}),Object(u.jsx)(_,{label:"Damage",stateVar:h,setStateVar:m,visual_max:10,min_value:-10}),Object(u.jsxs)("div",{children:[Object(u.jsx)(N,{label:"Adv",stateVar:n,setStateVar:c}),Object(u.jsx)(N,{label:"Disadv",stateVar:s,setStateVar:i})]})]})});function y(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=0,c=0;c<e;c++)n+=1+Math.floor(Math.random()*t)+a;return n}function S(e,t){return e>t}function D(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=0;if(a&&!n){var s=[y(1,20,t),y(1,20,t)];c=Math.max.apply(Math,s)}else if(n&&!a){var i=[y(1,20,t),y(1,20,t)];c=Math.min.apply(Math,i)}else c=y(1,20,t);return c-t===20?{success:!0,crit:!0}:c-t===1?{success:!1,crit:!1}:S(c,e)?{success:!0,crit:!1}:{success:!1,crit:!1}}function w(e,t,a,n,c){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],r=D(e,c,s,i),o=0;return r.success&&r.crit?o=y(t,a,n)+y(t,a,n):r.success&&(o=y(t,a,n)),Math.max(0,o)}function M(e,t,a,n,c,s,i){for(var r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1e3,o=[],u=0;u<r;u++)o.push({dmg:w(e,t,a,n,c,s,i)});return o}var V=function(){var e=Object(n.useState)(12),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),i=Object(r.a)(s,2),o=i[0],d=i[1],l=Object(n.useState)(!1),b=Object(r.a)(l,2),j=b[0],h=b[1],m=Object(n.useState)(12),f=Object(r.a)(m,2),O=f[0],g=f[1],x=Object(n.useState)(1),v=Object(r.a)(x,2),p=v[0],_=v[1],N=Object(n.useState)(3),y=Object(r.a)(N,2),S=y[0],D=y[1],w=Object(n.useState)(1),V=Object(r.a)(w,2),C=V[0],H=V[1],P=Object(n.useState)(M(a,p,O,C,S,o,j)),R=Object(r.a)(P,2),T=R[0],B=R[1];return Object(n.useEffect)((function(){B(M(a,p,O,C,S,o,j))}),[a,o,j,C,S,O,p]),Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)("div",{className:"dashboard",children:[Object(u.jsxs)("div",{className:"gph-container",children:[Object(u.jsx)("h4",{children:" Attack Damage Distribution "}),Object(u.jsx)(A,{data:T,xAccessor:function(e){return e.dmg},label:"Damage"})]}),Object(u.jsx)(k,{ac:a,setAC:c,advantage:o,setAdvantage:d,disadvantage:j,setDisadvantage:h,dice_sides:O,setDiceSides:g,dice_num:p,setDiceNum:_,hit_modifier:S,setHitModifier:D,damage_modifier:C,setDamageModifier:H})]})})},C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,109)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(u.jsx)(V,{}),document.getElementById("root")),C()}},[[108,1,2]]]);
//# sourceMappingURL=main.a13a5d1f.chunk.js.map